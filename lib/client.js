// Generated by CoffeeScript 1.6.2
(function() {
  var delay, hostname, ws;

  hostname = location.hostname;
  ws = new WebSocket("ws://" + hostname + ":7776");
  ws.onmessage = function(message) {
    if (message.data === 'reload') {
      console.log('reload event');
      return location.reload();
    }
  };
  delay = function(t, f) {
    return setTimeout(f, t);
  };
  return ws.onclose = function() {
    console.log('closed');
    return delay(4000, function() {
      return location.reload();
    });
  };
})();
